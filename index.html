<!DOCTYPE html>
<html>

<head>
	<title>Piano Cumbiero</title>
	<meta charset="utf-8">
	<script src="jquery.js"></script>
	<link rel="stylesheet" type="text/css" href="main.css">
	<link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
	<h1>PIANO CUMBIERO</h1>
</head>

<body>
	<div class="kb">
		<div data-key="1" class="key">
			
		</div>
		<div data-key="2" class="key">
			
		</div>
		<div data-key="3" class="key">
			
		</div>
		<div data-key="4" class="key">
			
		</div>
		<div data-key="5" class="key">
			
		</div>
		<div data-key="6" class="key">
			
		</div>
		<div data-key="7" class="key">
			
		</div>
		<div data-key="8" class="key">
			
		</div>
		<div data-key="9" class="key">
			
		</div>
		<div data-key="10" class="key">
			
		</div>
		<div data-key="11" class="key">
			
		</div>
		<div data-key="12" class="key">
			
		</div>
		<div data-key="13" class="key">
			
		</div>
		<div data-key="14" class="key">
			
		</div>
	</div>

	<script>
		var i = 0;
		var sonidos = [1, 2, 3]

		function removeTransition(e) {
    		if (e.propertyName !== 'transform') return;
    		e.target.classList.remove('playing');
  		}
  			//Math.floor((Math.random() * 14) + 1);
  		function playSound(e) {
    		//const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
   			const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
    		//if (!audio) return;

    		key.classList.add('playing');
    		//audio.currentTime = 0;
    		//audio.play();
  		}

		const keys = Array.from(document.querySelectorAll('.key'));
		keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  		window.addEventListener('keydown', playSound);
		var number = 1 + Math.floor(Math.random() * 14);

		$(document).ready(function(){
			$('.key').on('click', function(){
				$(this).toggleClass('playing');
			})
		})
	</script>
</body>

</html>